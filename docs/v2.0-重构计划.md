# AgentShare v2.0 重构计划

目标：以“中立标准”和“schema 驱动”为核心，建立可验证、可扩展、可跨平台的 Agent/Skill 管理体系。

## 0. 现状校验与范围冻结
- [x] 完成平台规范清单与路径来源收敛（官方文档链接归档）
- [x] 明确 v2.0 范围：仅覆盖已验证平台的 Agent/Skill 管理
- [x] 标注当前未实现功能与不确定项，避免误导性实现

## 1. 统一模型（中立标准）
- [x] 定义 Agent 中立标准字段（frontmatter 结构与约束）
- [x] 定义 Skill 中立标准字段（SKILL.md frontmatter 与目录约束）
- [x] 输出“标准输入目录结构”与“平台输出目录结构”对照表

## 2. Schema 驱动框架
- [x] 规范 schema 文件结构与版本策略
- [x] 设计平台能力声明（features）与路径解析规则
- [x] 定义全局/项目两种 scope 的解析策略

## 3. Skills 全链路改造
- [x] 统一 skills 源目录到仓库根目录并提供迁移策略
- [x] 生成平台输出目录映射（OpenCode/Claude/Kilo/Copilot）
- [x] 完成扫描/部署/提取/卸载全流程并可回归验证

## 4. Agents 全链路改造
- [x] Agent markdown 生成规则与模板规范化
- [x] 完成 Agent 扫描/部署/提取/卸载全流程
- [x] 处理平台命名与路径差异，统一 adapter 层

## 5. 平台适配与兼容策略
- [x] 平台命名统一与别名映射规则落地
- [ ] 逐平台校验：路径、格式、权限、覆盖优先级（功能实际未完成：缺少真实平台环境校验，仅完成本地逻辑验证）
- [x] 不支持的平台能力必须显式标记为未实现

## 6. TUI 与逻辑对齐
- [x] TUI 平台列表改为 registry 驱动
- [x] UI 统一展示 global/project scope 的状态
- [x] 错误与冲突处理改为真实能力检测驱动

## 7. 迁移与回滚
- [x] 提供现有仓库结构迁移到 v2.0 标准的脚本/步骤
- [x] 支持回滚策略（保留原结构与配置备份）

## 8. 验证与发布
- [x] 添加真实环境验证清单（不使用模拟数据）
- [ ] 建立平台验证用例矩阵与结果记录（功能实际未完成：矩阵结构已定义但未填入真实验证结果）
- [ ] 发布前完成一次跨平台完整回归（功能实际未完成：未在真实平台环境完成回归）
